<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Borang Ketidakhadiran - SKBTHO2</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-red: #ff0000;
            --dark-red: #b30000;
            --pulse-color: rgba(255, 0, 0, 0.6);
        }

        body {
            margin: 0; padding: 0; 
            background: linear-gradient(135deg, #ff0000 0%, #800000 100%);
            overflow-x: hidden;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            min-height: 100vh;
        }

        /* --- ANIMASI LATAR BELAKANG --- */
        .bg-animation { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }
        .flying-block {
            position: absolute; background: rgba(255, 255, 255, 0.15);
            border-radius: 8px; animation: fly 15s linear infinite; bottom: -150px;
        }
        @keyframes fly {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            100% { transform: translateY(-120vh) rotate(720deg); opacity: 0; }
        }
        .flying-block:nth-child(1) { width: 80px; height: 80px; left: 10%; animation-duration: 20s; }
        .flying-block:nth-child(2) { width: 40px; height: 40px; left: 25%; animation-duration: 12s; }
        .flying-block:nth-child(3) { width: 100px; height: 100px; left: 45%; animation-duration: 18s; }
        .flying-block:nth-child(4) { width: 60px; height: 60px; left: 70%; animation-duration: 15s; }
        .flying-block:nth-child(5) { width: 90px; height: 90px; left: 85%; animation-duration: 22s; }

        /* --- LOGO & TITLE --- */
        .logo-container { position: relative; display: inline-block; margin-bottom: 15px; }
        .header-logo { width: 100px; height: auto; position: relative; z-index: 2; filter: drop-shadow(0px 4px 8px rgba(0,0,0,0.5)); }
        .pulse-ring {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 100%; height: 100%; background-color: var(--pulse-color);
            border-radius: 50%; z-index: 1; animation: pulse-animation 2s infinite;
        }
        @keyframes pulse-animation {
            0% { width: 80px; height: 80px; opacity: 0.8; }
            100% { width: 160px; height: 160px; opacity: 0; }
        }

        .school-title { font-weight: 800; color: white; text-shadow: 2px 2px 8px rgba(0,0,0,0.6); font-size: 1.3rem; }
        .card { border: none; border-radius: 25px; box-shadow: 0 15px 35px rgba(0,0,0,0.4); background: rgba(255, 255, 255, 0.95); }
        .card-header { background-color: var(--dark-red) !important; color: white; border-radius: 25px 25px 0 0 !important; font-weight: bold; }
        
        /* --- PENYELARASAN FONT (SAIZ SAMA) --- */
        .form-label {
            font-size: 0.9rem !important; /* Saiz arahan di atas kotak */
            letter-spacing: 0.5px;
        }

        .form-control, .form-select {
            font-size: 0.9rem !important; /* Saiz teks/arahan di dalam kotak */
            border-radius: 10px;
        }

        /* Penyelarasan placeholder untuk browser berbeza */
        .form-control::placeholder {
            font-size: 0.9rem !important;
            opacity: 0.7;
        }

        .btn-red { background: linear-gradient(to right, #ff0000, #b30000); color: white; border: none; font-weight: bold; padding: 12px; transition: 0.3s; }
        .btn-red:active { transform: scale(0.95); }
    </style>
</head>
<body>

    <div class="bg-animation">
        <div class="flying-block"></div><div class="flying-block"></div><div class="flying-block"></div><div class="flying-block"></div><div class="flying-block"></div>
    </div>

    <div class="container mt-4 mb-5">
        <div class="text-center mb-3">
            <div class="logo-container">
                <div class="pulse-ring"></div>
                <img src="https://imgur.com/DLy3jZn.png" alt="Logo SKBTHO2" class="header-logo">
            </div>
            <h4 class="school-title">SK BANDAR TUN HUSSEIN ONN 2</h4>
        </div>

        <div class="card">
            <div class="card-header text-center py-3">
                <h6 class="mb-0 text-uppercase">Borang Ketidakhadiran Kokurikulum</h6>
            </div>
            <div class="card-body p-4">
                <form id="kokoForm">
                    <div class="mb-3">
                        <label class="form-label fw-bold text-dark">TARIKH</label>
                        <input type="date" id="tarikh" class="form-control form-control-lg" required>
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label fw-bold text-dark">NAMA MURID</label>
                        <input type="text" id="nama" class="form-control form-control-lg text-uppercase" placeholder="NAMA PENUH MURID" required>
                    </div>

                    <div class="row">
                        <div class="col-6 mb-3">
                            <label class="form-label fw-bold text-dark">TAHUN</label>
                            <select id="tahun" class="form-select form-select-lg" required onchange="kemaskiniKelas()">
                                <option value="">Pilih</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                            </select>
                        </div>
                        <div class="col-6 mb-3">
                            <label class="form-label fw-bold text-dark">KELAS</label>
                            <select id="kelas" class="form-select form-select-lg" required disabled>
                                <option value="">Pilih Kelas</option>
                            </select>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label fw-bold text-dark">SEBAB KETIDAKHADIRAN</label>
                        <textarea id="sebab" class="form-control form-control-lg" rows="2" placeholder="SILA NYATAKAN ALASAN" required></textarea>
                    </div>

                    <div class="mb-4">
                        <label class="form-label fw-bold text-dark">NAMA GURU (PELAPOR)</label>
                        <select id="pelapor" class="form-select form-select-lg" required>
                            <option value="">PILIH NAMA GURU</option>
                            <option value="ABDUL KAHAR BIN AWANG SEMAN">ABDUL KAHAR BIN AWANG SEMAN</option>
                            <option value="AINA ATHIRAH BINTI AHMAD SENARI">AINA ATHIRAH BINTI AHMAD SENARI</option>
                            <option value="AMINUDDIN BIN ISMAIL">AMINUDDIN BIN ISMAIL</option>
                            <option value="AMIRAH BINTI MOHD ALWI">AMIRAH BINTI MOHD ALWI</option>
                            <option value="ARINAWATI BINTI MOHD YAH">ARINAWATI BINTI MOHD YAH</option>
                            <option value="AWATIF BINTI MD YUSOP">AWATIF BINTI MD YUSOP</option>
                            <option value="AZHAIRIN ZULAIHAN BINTI BADRUL HISHAM">AZHAIRIN ZULAIHAN BINTI BADRUL HISHAM</option>
                            <option value="AZIMA BINTI MAT ZIN @ ISMAIL">AZIMA BINTI MAT ZIN @ ISMAIL</option>
                            <option value="AZIZAH BINTI MOHAMMED">AZIZAH BINTI MOHAMMED</option>
                            <option value="AZMAN BIN OTHMAN">AZMAN BIN OTHMAN</option>
                            <option value="DINITA A/P MUNIANDY">DINITA A/P MUNIANDY</option>
                            <option value="EMIL NORULHUDA BINTI AMIRUDDIN">EMIL NORULHUDA BINTI AMIRUDDIN</option>
                            <option value="FAIZA BINTI HASBULLAH">FAIZA BINTI HASBULLAH</option>
                            <option value="FAIZAH BINTI IBRAHIM">FAIZAH BINTI IBRAHIM</option>
                            <option value="FARAWAHIDA BINTI MOHD SAFFUAN">FARAWAHIDA BINTI MOHD SAFFUAN</option>
                            <option value="FARIDATUL AKMAAR BINTI MAT SAID">FARIDATUL AKMAAR BINTI MAT SAID</option>
                            <option value="FATIN FARHANA BINTI AMINUDDIN">FATIN FARHANA BINTI AMINUDDIN</option>
                            <option value="HAFIZI BIN OMAR">HAFIZI BIN OMAR</option>
                            <option value="HARISAH BINTI AWANG">HARISAH BINTI AWANG</option>
                            <option value="HARIZ IRFAN BIN HUSSIN PAKRI">HARIZ IRFAN BIN HUSSIN PAKRI</option>
                            <option value="HASMAWATI BINTI OTHMAN">HASMAWATI BINTI OTHMAN</option>
                            <option value="HAZRAH BINTI MOHAMAD">HAZRAH BINTI MOHAMAD</option>
                            <option value="IRDINA AFIQAH BINTI ISMAIL">IRDINA AFIQAH BINTI ISMAIL</option>
                            <option value="IRMA AZNITA BINTI KAMBALI">IRMA AZNITA BINTI KAMBALI</option>
                            <option value="KANG CHIN KOAT">KANG CHIN KOAT</option>
                            <option value="KASUMMA BINTI PANDAK KAMAL">KASUMMA BINTI PANDAK KAMAL</option>
                            <option value="MARYANI BINTI DRAMAN">MARYANI BINTI DRAMAN</option>
                            <option value="MAWADDAH HUDA BINTI MOHD AFFANDI">MAWADDAH HUDA BINTI MOHD AFFANDI</option>
                            <option value="MAZILA HAZLIN BINTI ABD MAJIT">MAZILA HAZLIN BINTI ABD MAJIT</option>
                            <option value="MOHAMAD MUNIR BIN ZAINUN">MOHAMAD MUNIR BIN ZAINUN</option>
                            <option value="MOHAMED SYAKIR BIN MD TAHIR">MOHAMED SYAKIR BIN MD TAHIR</option>
                            <option value="MOHD SHAMILULHAYAT BIN MOHD ASRI">MOHD SHAMILULHAYAT BIN MOHD ASRI</option>
                            <option value="MUHAMMAD AKASYAH SAIDON">MUHAMMAD AKASYAH SAIDON</option>
                            <option value="MUHAMMAD IRFAN WAZIF BIN MOHD NIZAM">MUHAMMAD IRFAN WAZIF BIN MOHD NIZAM</option>
                            <option value="NADIAH BINTI IDRIS">NADIAH BINTI IDRIS</option>
                            <option value="NAIM AISAMUDDIN BIN ABDUL RAZAK">NAIM AISAMUDDIN BIN ABDUL RAZAK</option>
                            <option value="NAZIMATUL AMANI BINTI RAMLI">NAZIMATUL AMANI BINTI RAMLI</option>
                            <option value="NIK HAZIMAN BIN CHE DAUD">NIK HAZIMAN BIN CHE DAUD</option>
                            <option value="NIK NUR LIYANA BINTI NIK MOHD FAUZI">NIK NUR LIYANA BINTI NIK MOHD FAUZI</option>
                            <option value="NITHILA A/P JAKANATHAN">NITHILA A/P JAKANATHAN</option>
                            <option value="NOOR AZIZAH BINTI MD BAHARUDDIN">NOOR AZIZAH BINTI MD BAHARUDDIN</option>
                            <option value="NORAIDA BINTI MUSTAPHA">NORAIDA BINTI MUSTAPHA</option>
                            <option value="NORAMANI BINTI MAT NOR">NORAMANI BINTI MAT NOR</option>
                            <option value="NORMA BINTI ISMAIL">NORMA BINTI ISMAIL</option>
                            <option value="NORUL HUDA BINTI JAMIN">NORUL HUDA BINTI JAMIN</option>
                            <option value="NOUR EZIEZAH BINTI MAZMAN">NOUR EZIEZAH BINTI MAZMAN</option>
                            <option value="NUR FATHIN BINTI ZAKI">NUR FATHIN BINTI ZAKI</option>
                            <option value="NUR SYAFIQAH BINTI ZAHIRUDIN">NUR SYAFIQAH BINTI ZAHIRUDIN</option>
                            <option value="NUR ZURIYATIE BINTI AZIZ">NUR ZURIYATIE BINTI AZIZ</option>
                            <option value="NURUL HAZIQAH BINTI RAMLI">NURUL HAZIQAH BINTI RAMLI</option>
                            <option value="NURUL ULYA BINTI NORDIN">NURUL ULYA BINTI NORDIN</option>
                            <option value="PIRAKAS A/L SHANGAR">PIRAKAS A/L SHANGAR</option>
                            <option value="ROHAIZA BINTI RAZALI">ROHAIZA BINTI RAZALI</option>
                            <option value="ROSNAH BINTI JANTAN">ROSNAH BINTI JANTAN</option>
                            <option value="RUBINA BINTI RAMLI">RUBINA BINTI RAMLI</option>
                            <option value="SAHARINA BINTI ABDULLAH">SAHARINA BINTI ABDULLAH</option>
                            <option value="SITI HAWA BINTI MAT YAJID">SITI HAWA BINTI MAT YAJID</option>
                            <option value="SITI MASHITAH BINTI MOHD ASRI">SITI MASHITAH BINTI MOHD ASRI</option>
                            <option value="SITI NORASYIKIN BINTI ABDULLAH">SITI NORASYIKIN BINTI ABDULLAH</option>
                            <option value="SITI NUR DIANA BINTI MOHAMAD NASIR">SITI NUR DIANA BINTI MOHAMAD NASIR</option>
                            <option value="SULAIMAN BIN HASSAN">SULAIMAN BIN HASSAN</option>
                            <option value="SUZILA BINTI MOHD NOR">SUZILA BINTI MOHD NOR</option>
                            <option value="TG IHTIFAZUDDIN BIN TG IBRAHIM">TG IHTIFAZUDDIN BIN TG IBRAHIM</option>
                            <option value="UMI NUR HANIRA BINTI ISMAIL">UMI NUR HANIRA BINTI ISMAIL</option>
                            <option value="WAN FAIRIS BIN A. KAMAR">WAN FAIRIS BIN A. KAMAR</option>
                            <option value="ZABIDI BIN MOHAMMAD">ZABIDI BIN MOHAMMAD</option>
                            <option value="ZANIRAH BINTI A. BAKAR">ZANIRAH BINTI A. BAKAR</option>
                        </select>
                    </div>

                    <button type="submit" class="btn btn-red w-100 shadow rounded-pill py-3" id="submitBtn">HANTAR LAPORAN</button>
                </form>
                <hr>
                <div class="text-center">
                    <a href="laporan.html" class="text-decoration-none fw-bold small text-danger">LIHAT REKOD KETIDAKHADIRAN â†’</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwhBrT3lhsir-WdwAsK43l_xOoPMKNKXPqg0YESn1Wje6O25ODfhQcliiHBgUSgLKSQ/exec";
        
        const senaraiKelasAsas = ["JASMINE", "HIBISCUS", "SUNFLOWER", "LAVENDER", "TULIP", "DAISY", "SAKURA", "ROSE", "ORCHID"];

        function kemaskiniKelas() {
            const tahun = document.getElementById('tahun').value;
            const kelasSelect = document.getElementById('kelas');
            kelasSelect.innerHTML = '<option value="">Pilih Kelas</option>';
            
            if (tahun === "") {
                kelasSelect.disabled = true;
                return;
            }

            kelasSelect.disabled = false;
            let senarai = [...senaraiKelasAsas];
            if (tahun === "5") senarai.push("LILY");

            senarai.forEach(k => {
                let opt = document.createElement('option');
                opt.value = `${tahun} ${k}`;
                opt.innerHTML = `${tahun} ${k}`;
                kelasSelect.appendChild(opt);
            });
        }

        document.getElementById('nama').addEventListener('input', function() {
            this.value = this.value.toUpperCase();
        });

        document.getElementById('kokoForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const btn = document.getElementById('submitBtn');
            btn.disabled = true;
            btn.innerText = "MENGHANTAR...";

            const formData = {
                tarikh: document.getElementById('tarikh').value,
                nama: document.getElementById('nama').value,
                kelas: document.getElementById('kelas').value,
                sebab: document.getElementById('sebab').value,
                pelapor: document.getElementById('pelapor').value
            };

            fetch(SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors',
                body: JSON.stringify(formData)
            })
            .then(() => {
                alert('DATA BERJAYA DISIMPAN!');
                this.reset();
                document.getElementById('kelas').disabled = true;
                btn.disabled = false;
                btn.innerText = "HANTAR LAPORAN";
            })
            .catch(err => {
                alert('RALAT! Sila cuba lagi.');
                btn.disabled = false;
                btn.innerText = "HANTAR LAPORAN";
            });
        });
    </script>
</body>
</html>
